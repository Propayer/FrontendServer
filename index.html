<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Envío de Datos</title>
    <script>
        // Función para enviar los datos al backend
        async function sendData() {
            // Obtener los valores del formulario
            const usuario = document.getElementById("usuario").value;
            const dato = document.getElementById("dato").value;

            // Crear el objeto de datos a enviar en formato JSON
            const data = {
                usuario: usuario,
                dato: dato
            };

            try {
                // Enviar los datos al backend (usando fetch API)
                const response = await fetch('http://localhost:5001/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                // Leer la respuesta del backend
                const responseData = await response.json();

                // Mostrar la respuesta en el frontend
                document.getElementById("respuesta").innerText = JSON.stringify(responseData, null, 2);
            } catch (error) {
                console.error('Error al enviar los datos:', error);
                document.getElementById("respuesta").innerText = 'Error al enviar los datos.';
            }
        }
    </script>
</head>
<body>
    <h1>Formulario de Envío de Datos</h1>
    
    <!-- Formulario para ingresar los datos -->
    <form onsubmit="event.preventDefault(); sendData();">
        <label for="usuario">Usuario:</label>
        <input type="text" id="usuario" required><br><br>

        <label for="dato">Dato:</label>
        <input type="text" id="dato" required><br><br>

        <button type="submit">Enviar</button>
    </form>

    <h2>Respuesta del Backend:</h2>
    <pre id="respuesta"></pre>
</body>
</html>

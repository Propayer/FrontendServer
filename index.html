<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Datos</title>
</head>
<body>
    <h1>Formulario de Datos Recibidos</h1>
    <form id="dataForm">
        <label for="usuario">Usuario:</label>
        <input type="text" id="usuario" name="usuario" required><br><br>

        <label for="contraseña">Contraseña:</label>
        <input type="password" id="contraseña" name="contraseña" required><br><br>

        <label for="dato">Dato:</label>
        <input type="text" id="dato" name="dato" required><br><br>

        <button type="submit">Enviar al Backend</button>
    </form>

    <script>
        // Función para recibir los datos del módulo central
        window.addEventListener('DOMContentLoaded', (event) => {
            // Esto simula la recepción de datos del módulo central
            const receivedData = {
                usuario: 'usuarioEjemplo',  // Datos simulados
                contraseña: 'contraseñaEjemplo',
                dato: 'datoXEjemplo',
                additionalInfo: 'noresponse'
            };

            // Asignar los datos recibidos a los campos del formulario
            document.getElementById('usuario').value = receivedData.usuario;
            document.getElementById('contraseña').value = receivedData.contraseña;
            document.getElementById('dato').value = receivedData.dato;

            // Enviar automáticamente los datos al backend después de completarlos
            sendDataToBackend(receivedData);
        });

        // Función para enviar los datos al backend
        function sendDataToBackend(data) {
            fetch('http://localhost:5001/', {  // URL del backend donde recibir los datos
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                console.log("Datos enviados al backend:", data);
            })
            .catch(error => {
                console.error("Error al enviar los datos al backend:", error);
            });
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Envío de Datos</title>
    <script>
        // Función para enviar los datos al backend
        async function sendData(usuario, contraseña, dato) {
            // Crear el objeto de datos a enviar en formato JSON
            const data = {
                usuario: usuario,
                contraseña: contraseña,
                dato: dato,
                additionalInfo: "noresponse"  // Esto indica que el backend no debe responder, solo almacenar
            };

            try {
                // Enviar los datos al backend (usando fetch API)
                const response = await fetch('http://localhost:5001/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                // Verificar la respuesta del backend (aunque no debe responder si "noresponse" es usado)
                if (response.ok) {
                    console.log("Datos enviados al backend para almacenar.");
                } else {
                    console.log("Error al enviar los datos al backend.");
                }
            } catch (error) {
                console.error('Error al enviar los datos:', error);
            }
        }

        // Función para manejar el formulario
        async function handleFormSubmission() {
            const usuario = document.getElementById("usuario").value;
            const contraseña = document.getElementById("contraseña").value;
            const dato = document.getElementById("dato").value;

            await sendData(usuario, contraseña, dato);
        }
    </script>
</head>
<body>
    <h1>Formulario de Envío de Datos</h1>
    
    <!-- Formulario para ingresar los datos -->
    <form onsubmit="event.preventDefault(); handleFormSubmission();">
        <label for="usuario">Usuario:</label>
        <input type="text" id="usuario" required><br><br>

        <label for="contraseña">Contraseña:</label>
        <input type="password" id="contraseña" required><br><br>

        <label for="dato">Dato X:</label>
        <input type="text" id="dato" required><br><br>

        <button type="submit">Enviar</button>
    </form>

    <h2>Respuesta del Backend:</h2>
    <pre id="respuesta"></pre>
</body>
</html>
